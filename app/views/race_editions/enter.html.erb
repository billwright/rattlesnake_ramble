<%= render 'shared/errors', model_object: @racer %>

<%= render 'shared/page_title', title: "Enter #{@race_edition.name}" %>

<%= form_for @race_edition, method: :post, url: create_entry_race_edition_path(@race_edition) do |race_edition_form| %>

    <%= race_edition_form.fields_for :racers, @racer do |racer_fields| %>
      <%= racer_fields.label :first_name %>
      <%= racer_fields.text_field :first_name, autofocus: true %>
    
      <%= racer_fields.label :last_name %>
      <%= racer_fields.text_field :last_name %>
    
      <%= racer_fields.label :email %>
      <%= racer_fields.text_field :email %>
    
      <%= racer_fields.label :gender %>
      <%= racer_fields.select :gender, Racer.genders.keys, include_blank: true %>
    
      <%= racer_fields.label :birth_date %>
      <%= datepicker_input(form: racer_fields,
                           field: :birth_date,
                           existing_date: nil,
                           default_date: {year: 1900, month: 0, day: 1},
                           default_view: 'decades') %>
    
      <%= racer_fields.label :city %>
      <%= racer_fields.text_field :city %>
    
      <%= racer_fields.label :state %>
      <%= racer_fields.select :state, StatesHelper::STATES  %>
    <% end %>
    
    <%= race_edition_form.submit 'Enter the race', class: 'btn-lg btn-success' %>

<% end %>
